(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["news"],{"49bf":function(e,t,s){},5727:function(e,t,s){"use strict";s("49bf")},"975f":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"news-block"},[e.isLoading?s("loading"):e._e(),s("div",{staticClass:"news-search-bar-block"},[s("el-select",{attrs:{placeholder:e.$t("home.news.placeholder")},on:{change:e.handlerType},model:{value:e.searchType,callback:function(t){e.searchType=t},expression:"searchType"}},e._l(e.type,(function(t){return s("el-option",{key:t.value,attrs:{label:e.$t(t.label),value:t.value}},[e._v(e._s(e.$t(t.label)))])})),1)],1),e._l(e.news,(function(t){return s("div",{key:t.UpdateTime,staticClass:"news-item"},[s("div",{staticClass:"news-item-title-block"},[s("p",{staticClass:"news-title"},[e._v(e._s(t.Title))]),s("p",{staticClass:"news-time"},[e._v(e._s(t.PublishTime))])]),s("p",{staticClass:"news-description"},[e._v(e._s(t.Description))])])})),0!==e.news.length||e.isLoading?e._e():s("p",[e._v(e._s(e.emptyText))]),e.news.length>=10?s("p",{staticClass:"news-more",on:{click:e.handlerMore}},[e._v(e._s(e.$t("home.news.more")))]):e._e()],2)},i=[],n=(s("d3b7"),s("159b"),s("9ab4")),l=s("1b40"),o=s("3a5e"),r=s("5a0c"),c=s.n(r),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isLoading=!1,t.pageSize=0,t.searchType=null,t.news=[],t.apiParams={url:"/MOTC/v2/PTX/Web/News",method:"get",params:{$top:10,$format:"JSON"}},t}return Object(n["c"])(t,e),t.prototype.created=function(){this.callApi()},t.prototype.callApi=function(){var e=this;this.isLoading=!0,this.news=[],this.$http(this.apiParams).then((function(t){var s=t.data.Newses;s.length>0&&s.forEach((function(t){e.news.push({Title:t.Title,Description:t.Description,PublishTime:c()(t.PublishTime).format("YYYY/MM/DD hh:mm:ss")})})),e.isLoading=!1})).catch((function(t){e.isLoading=!1}))},t.prototype.handlerType=function(){this.apiParams.params.$filter="NewsCategory eq "+this.searchType,this.callApi()},t.prototype.handlerMore=function(){this.pageSize+=10,this.apiParams.params.$skip=this.pageSize,this.callApi()},Object.defineProperty(t.prototype,"emptyText",{get:function(){return this.news.length>0?"":this.$t("home.news.empty")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return[{label:"home.news.title",value:1},{label:"home.news.item1",value:5},{label:"home.news.item2",value:6},{label:"home.news.item3",value:7},{label:"home.news.item4",value:8},{label:"home.news.item5",value:9},{label:"home.news.item6",value:10}]},enumerable:!1,configurable:!0}),t=Object(n["b"])([Object(l["a"])({components:{Loading:o["a"]}})],t),t}(l["c"]),h=p,u=h,m=(s("5727"),s("2877")),b=Object(m["a"])(u,a,i,!1,null,"ec957490",null);t["default"]=b.exports}}]);
//# sourceMappingURL=news.bc1d2757.js.map